var AssetManager=function(){"use strict";function t(){this.successCount=0,this.failCount=0,this.cache={},this.queue=[]}return t.prototype.add=function(t,e){return this.queue.push({id:t,path:e})},t.prototype.downloadAll=function(t){for(var e=0,s=this.queue.length,a;s>e;e++)a=new Image,a.assetId=this.queue[e].id,a.callbacks={load:t},a.manager=this,a.addEventListener("load",this.handleImageLoadSuccess),a.addEventListener("error",this.handleImageLoadError),a.src=this.queue[e].path},t.prototype.handleImageLoadSuccess=function(){this.manager.successCount++,this.manager.cache[this.assetId]=this,this.manager.isDone()&&this.callbacks.load.call()},t.prototype.handleImageLoadError=function(){this.manager.failCount++},t.prototype.isDone=function(){return this.queue.length===this.successCount+this.failCount},t.prototype.get=function(t){return this.cache[t]},t}();